# 確率計算機
　このディレクトリでは、評価に必要な確率の計算を行う。解説前の正解率、問題数、解説後に正解した数、を使い、解説後の正解数以上のデータが発生する確率を求める。

### 実行
```bash:/evaluation-system/calculate
$ python3 ask_probability.py <正解率> <問題数> <正解数>
```
で実行可能。＜正解率＞は、解説前の正解率である。例えば25％であった場合、0.25 というように入力する。＜問題数＞は全体の問題数である。＜正解数＞は、解説後の正解数である。

### デモ
```bash
$ python3 ask_probability.py 0.3 60 25
```
結果は、
```bash
number of correct answer -> 25   probability ->  0.03623751946731613
```
のようになります。"number of correct answer"が、入力した正解数。"probability"が、その正解数以上が発生する確率である。

### xCy.py
　このプログラムは、組み合わせの数を計算してくれる。(xCy = A)
```bash
$ python3 xCy.py <最大数(x)> <組み合わせる個数(y)> <ラージデータモード>
```
で実行する。＜ラージデータモード＞とは、最大数や組み合わせの個数が大きい値になった場合に、オーバーフローを防ぐためのモードだ。"ON"/ "OFF"で切り替え可能で、"ON"にすると対数を使用して計算を行う。返ってくる値もそのままの答えでなく、answer=10<sup>x</sup> の`x`の値が返ってくる。これを計算する際に、10<sup>x/2</sup> * 3.122e<sup>19</sup> * 10<sup>x/2</sup> という風に工夫することでオーバーフローを防ぐことができる。"ask_probability.py"のプログラム内でも使用されている。<br>
しかし、プログラム内での対数の値はfloat型なので、ある程度の小数点で切り捨てが起きる。なのでほんの少しだけ誤差が起きる。

